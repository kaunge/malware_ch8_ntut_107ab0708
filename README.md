# malware_ch8_ntut_107ab0708
ch8
    本章節用到了hashing trick和機器學習
    機器學習用了python的sklearn中的RandomForestClassifier(隨機森林)和FeatureHasher套件
    
  利用機器學習提取特徵的惡意軟件，同時繪製ROC曲線以檢查檢測器的檢測閾值之間的關係及其正確和錯誤的陽性率

從圖1、Visualizing the detector’s ROC curve看到檢測器的假陽性率約為1％，可以檢測到約94％的惡意軟件樣本。

![image](https://github.com/kaunge/malware_ch8_ntut_107ab0708/blob/main/messageImage_1610023464493.jpg)
圖1、Visualizing the detector’s ROC curve


---
__Advertisement :)__

- __[pica](https://nodeca.github.io/pica/demo/)__ - high quality and fast image
  resize in browser.
- __[babelfish](https://github.com/nodeca/babelfish/)__ - developer friendly
  i18n with plurals support and easy syntax.

You will like those projects!

---
# malware homework
## ch8 BUILDING MACHINE LEARNING DETECTORS 
## ntut 資財三乙 陳旻寬 107ab0708
***


## Emphasis

**This is bold text**

__This is bold text__

*This is italic text*

_This is italic text_

~~Strikethrough~~

## Lists

Unordered

+ Create a list by starting a line with `+`, `-`, or `*`
+ Sub-lists are made by indenting 2 spaces:
  - Marker character change forces new list start:
    * Ac tristique libero volutpat at
    + Facilisis in pretium nisl aliquet
    - Nulla volutpat aliquam velit
+ Very easy!

Ordered

1. Lorem ipsum dolor sit amet
2. Consectetur adipiscing elit
3. Integer molestie lorem at massa


1. You can use sequential numbers...
1. ...or keep all the numbers as `1.`

Start numbering with offset:

57. foo
1. bar


## 找到code
開啟ch8資料夾
```
//利用cd找到資料夾malware_data_science/資料夾ch8/資料夾code。絕對路徑
//
$ cd malware_data_science/ch8/code
//回到上一個資料夾
$ cd ..
//回到目前資料夾裡的上個資料夾裡的資料夾data。相對路徑
$ cd ../data
//查看目前資料夾的檔案
$ ls
```
執行 `run_complete_detector.sh`
```
//.sh 相似於windows的.exe
$ sh run_complete_detector.sh
```
查看或修改 .py or .sh 的內容
```
//利用vim可以打開文本查看，相似於windows的記事本
$ vim complete_detector.py 
//修改可以再進入vim後按"I"即可看到游標進行修改
//修改完保存/退出可按":wq"
```
## 使用complete_detector.py
最主要使用的是sklearn的 RandomForestClassifier 以及 FeatureHasher
運用隨機森林的機器學習方式做病毒特徵訓練

- get_string_features  
  用regular expression去提取檔案的字作為特徵，再將這些特徵存在dict中去做雜湊(hashing trick)形成特徵值，再存於陣列中
- scan_file  
  掃描檔案並判斷為惡意(malicious)或是善意(benigin)
- train_detector  
  train_detector這副程式是用來訓練detector的，首先先用get_training_paths與抓取檔案，再抓這些檔案的內容的特徵值，之後再用RandomForest的方式去進行訓練。
- cv_evaluate  
  用隨機森林決策樹model(RandomForest)的方式得出更多數據的訓練，再去用預測出來的可能性的scores與test_y去使用ROC去分類到底檔案是惡意或善意的，最後畫出ROC curves的圖。   
  ![image](https://github.com/kaunge/malware_ch8_ntut_107ab0708/blob/main/messageImage_1610023464493.jpg)
- get_train_data  
  malware_paths 和 benignware_paths 內的檔案資料取得 training data再分為X與Y的兩堆  
  X : 從 get_string_features() 得到檔名的特徵值  
  y : malware_paths內1的數量+benignware_paths內0的數量
- main//主要程式  
  X, y = get_training_data(args.benignware_paths,args.malware_paths,hasher)  
  cv_evaluate(X,y,hasher)
## Tables

| Option | Description |
| ------ | ----------- |
| data   | path to data files to supply the data that will be passed into templates. |
| engine | engine to be used for processing templates. Handlebars is the default. |
| ext    | extension to be used for dest files. |

Right aligned columns

| Option | Description |
| ------:| -----------:|
| data   | path to data files to supply the data that will be passed into templates. |
| engine | engine to be used for processing templates. Handlebars is the default. |
| ext    | extension to be used for dest files. |


## 參考資料
python隨機森林的youtube介紹影片   
[Machine Learning Tutorial Python - 11 Random Forest](https://youtu.be/ok2s1vV9XW0)


Hilko關於ch8的介紹 MalwareClassifier.ipynb
[Malware Detector with strings](https://github.com/hija/MalwareDataScience/blob/master/chapter08/MalwareClassifier.ipynb)

Autoconverted link https://github.com/nodeca/pica (enable linkify to see)

## Images
![image](https://github.com/kaunge/malware_ch8_ntut_107ab0708/blob/main/messageImage_1610023464493.jpg)

## Plugins

The killer feature of `markdown-it` is very effective support of
[syntax plugins](https://www.npmjs.org/browse/keyword/markdown-it-plugin).


### [Emojies](https://github.com/markdown-it/markdown-it-emoji)

> Classic markup: :wink: :crush: :cry: :tear: :laughing: :yum:
>
> Shortcuts (emoticons): :-) :-( 8-) ;)

see [how to change output](https://github.com/markdown-it/markdown-it-emoji#change-output) with twemoji.


### [Subscript](https://github.com/markdown-it/markdown-it-sub) / [Superscript](https://github.com/markdown-it/markdown-it-sup)

- 19^th^
- H~2~O


### [\<ins>](https://github.com/markdown-it/markdown-it-ins)

++Inserted text++


### [\<mark>](https://github.com/markdown-it/markdown-it-mark)

==Marked text==


### [Footnotes](https://github.com/markdown-it/markdown-it-footnote)

Footnote 1 link[^first].

Footnote 2 link[^second].

Inline footnote^[Text of inline footnote] definition.

Duplicated footnote reference[^second].

[^first]: Footnote **can have markup**

    and multiple paragraphs.

[^second]: Footnote text.


### [Definition lists](https://github.com/markdown-it/markdown-it-deflist)

Term 1

:   Definition 1
with lazy continuation.

Term 2 with *inline markup*

:   Definition 2

        { some code, part of Definition 2 }

    Third paragraph of definition 2.

_Compact style:_

Term 1
  ~ Definition 1

Term 2
  ~ Definition 2a
  ~ Definition 2b


### [Abbreviations](https://github.com/markdown-it/markdown-it-abbr)

This is HTML abbreviation example.

It converts "HTML", but keep intact partial entries like "xxxHTMLyyy" and so on.

*[HTML]: Hyper Text Markup Language

### [Custom containers](https://github.com/markdown-it/markdown-it-container)

::: warning
*here be dragons*
:::
